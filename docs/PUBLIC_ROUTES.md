# Public vs Protected Routes

## ‚úÖ –ü—É–±–ª–∏—á–Ω—ã–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã (–¥–æ—Å—Ç—É–ø–Ω—ã –ë–ï–ó –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏):

- `/` - –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞
- `/login` - –°—Ç—Ä–∞–Ω–∏—Ü–∞ –≤—Ö–æ–¥–∞
- `/pricing` - –¶–µ–Ω—ã –∏ —Ç–∞—Ä–∏—Ñ—ã
- `/faq` - –ß–∞—Å—Ç—ã–µ –≤–æ–ø—Ä–æ—Å—ã
- `/terms` - –£—Å–ª–æ–≤–∏—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
- `/privacy` - –ü–æ–ª–∏—Ç–∏–∫–∞ –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç–∏
- `/methodology` - –ú–µ—Ç–æ–¥–æ–ª–æ–≥–∏—è
- `/promo` - –ü—Ä–æ–º–æ —Å—Ç—Ä–∞–Ω–∏—Ü—ã

## üîê –ó–∞—â–∏—â–µ–Ω–Ω—ã–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã (—Ç—Ä–µ–±—É—é—Ç –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏):

- `/oracle` - –¢–æ—Ä–≥–æ–≤—ã–µ –∏–¥–µ–∏ Oracle
- `/account` - –õ–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç
- `/symbol-analyzer` - –ê–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä —Å–∏–º–≤–æ–ª–æ–≤
- `/performance` - –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
- `/admin` - –ê–¥–º–∏–Ω –ø–∞–Ω–µ–ª—å

## üõ°Ô∏è Middleware Configuration

–§–∞–π–ª `middleware.ts` –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞ –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ—Ç –¥–æ—Å—Ç—É–ø –∫ —Å—Ç—Ä–∞–Ω–∏—Ü–∞–º.

### –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç:

1. **–ü—É–±–ª–∏—á–Ω—ã–µ –º–∞—Ä—à—Ä—É—Ç—ã** - –¥–æ—Å—Ç—É–ø–Ω—ã –≤—Å–µ–º –±–µ–∑ –ø—Ä–æ–≤–µ—Ä–∫–∏
2. **–ó–∞—â–∏—â–µ–Ω–Ω—ã–µ –º–∞—Ä—à—Ä—É—Ç—ã** - –ø—Ä–æ–≤–µ—Ä—è—é—Ç –Ω–∞–ª–∏—á–∏–µ:
   - Cookie `user_email` (magic link auth)
   - NextAuth session token (Google OAuth)
3. **API –º–∞—Ä—à—Ä—É—Ç—ã** - –ø—Ä–æ–ø—É—Å–∫–∞—é—Ç—Å—è –±–µ–∑ –ø—Ä–æ–≤–µ—Ä–∫–∏ (–∏–º–µ—é—Ç —Å–≤–æ—é –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é)

### –†–µ–¥–∏—Ä–µ–∫—Ç –ø—Ä–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏:

```
/oracle ‚Üí /login?redirect=/oracle
```

–ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –≤—Ö–æ–¥–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è –Ω–∞ –∏—Å—Ö–æ–¥–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É.

## üöÄ –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–π –ø—É–±–ª–∏—á–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã:

–í `middleware.ts` –¥–æ–±–∞–≤—å—Ç–µ –ø—É—Ç—å –≤ –º–∞—Å—Å–∏–≤ `publicRoutes`:

```typescript
const publicRoutes = [
  // ... existing routes
  '/your-new-page',
];
```

## üîí –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–π –∑–∞—â–∏—â–µ–Ω–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã:

–í `middleware.ts` –¥–æ–±–∞–≤—å—Ç–µ –ø—É—Ç—å –≤ –º–∞—Å—Å–∏–≤ `protectedRoutes`:

```typescript
const protectedRoutes = [
  // ... existing routes
  '/your-protected-page',
];
```

## ‚ö†Ô∏è –í–∞–∂–Ω–æ:

- –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ (`/`) –í–°–ï–ì–î–ê –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –ø—É–±–ª–∏—á–Ω–æ–π
- –°—Ç—Ä–∞–Ω–∏—Ü—ã –ª–æ–≥–∏–Ω–∞ –∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –ø—É–±–ª–∏—á–Ω—ã–º–∏
- –°—Ç—Ä–∞–Ω–∏—Ü—ã —Å —Ü–µ–Ω–∞–º–∏ –∏ –∫–æ–Ω—Ç–∞–∫—Ç–∞–º–∏ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –ø—É–±–ª–∏—á–Ω—ã–º–∏
- –¢–æ–ª—å–∫–æ –∫–æ–Ω—Ç–µ–Ω—Ç –∏ —Ñ—É–Ω–∫—Ü–∏–∏, —Ç—Ä–µ–±—É—é—â–∏–µ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏, –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –∑–∞—â–∏—â–µ–Ω—ã
